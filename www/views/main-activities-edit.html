<ion-view view-title="Activity">
	<ion-nav-buttons side="left">
		<button ng-click="$ionicGoBack()" class="button button-icon ion-arrow-left-c"></button>
	</ion-nav-buttons>
	<ion-nav-buttons side="right">
    <button ng-show="model.status === 'content.ready'" class="button button-icon icon" ng-class="model.edit.icon" ng-click="model.edit.handler()"></button>
		<button ng-show="model.status === 'edit.ready' || model.status === 'edit.error'" class="button button-icon icon" ng-class="model.save.icon" ng-click="model.save.handler()"></button>
	</ion-nav-buttons>
	<ion-content padding="true">

    <!-- loading -->
    <div ng-show="model.status === 'loading'" style="text-align: center; padding-top: 10em">
      <p>{{model.loading.message}}</p>
      <ion-spinner></ion-spinner>
    </div>

    <!-- error -->
    <div ng-show="model.status === 'error'" style="text-align: center; padding-top: 10em">
      <p>{{model.error.message}}</p>
      <button ng-click="model.error.retry.handler()" class="button button-positive">{{model.error.retry.label}}</button>
    </div>

		<div ng-show="model.status === 'content.ready'">
			<div ng-show="model.message_save.length > 0" style="text-align: center; padding: 0.5em; background-color: #4CAF50; color: #FFFFFF">
				{{model.message_save}}
			</div>
			
			<div class="list card">

				<div class="item">
					<p style="font-weight: bold">{{model.activity.project === null ? '' : model.activity.project.name}}</p>
					<p>{{model.activity.task === null ? '' : model.activity.task.name}}</p>
				</div>

				<div class="item">
					<p>{{model.activity.date}}</p>
					<p>{{model.activity.duration}} / {{model.activity.overtime}}</p>
				</div>

			</div>
			
		</div>

		<div ng-show="model.status === 'edit.ready' || model.status === 'edit.error'">
			<div ng-show="model.status === 'edit.error'" style="text-align: center; padding: 0.5em; background-color: #F44336; color: #FFFFFF">
				{{model.error_save.message}}
			</div>
			
			<div class="list card">

				<a class="item" ng-click="model.selectProject()">
					<p style="font-weight: bold">{{model.activity.project === null ? '' : model.activity.project.name}}</p>
				</a>


			</div>
			
			
		</div>

	</ion-content>
</ion-view>